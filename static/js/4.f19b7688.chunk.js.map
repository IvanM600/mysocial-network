{"version":3,"sources":["components/Dialogs/Dialogs.module.css","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogitem/Dialogitem.jsx","components/Dialogs/Dialogs.jsx","HOC/withAuthRedirect.js","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","Message","props","className","classes","message","mes","DialogItem","path","id","dialog","active","to","name","maxLength50","maxLengthCreator","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","validate","required","placeholder","Dialogs","dialogsElements","dialogsData","map","messagesElements","messagesData","isAuth","dialogs","dialogsItems","messages","values","sendMessage","newMessageText","mapStateToPropsForRedirect","state","auth","compose","connect","dialogPage","dispatch","addMessageActionCreator","Component","RedirectComponent","this","React"],"mappings":"2FACAA,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,OAAS,wBAAwB,SAAW,0BAA0B,QAAU,2B,8FCQnKC,EANC,SAACC,GACb,OACI,qBAAKC,UAAWC,IAAQC,QAAxB,SAAkCH,EAAMI,O,QCQjCC,EATI,SAACL,GAChB,IAAIM,EAAO,YAAcN,EAAMO,GAC/B,OACI,qBAAKN,UAAWC,IAAQM,OAAS,IAAMN,IAAQO,OAA/C,SACI,cAAC,IAAD,CAASC,GAAIJ,EAAb,SAAoBN,EAAMW,U,0CCChCC,EAAcC,YAAiB,IAkD/BC,EAAsBC,YAAU,CAClCC,KAAM,wBADkBD,EAhBL,SAACf,GACxB,OACO,uBAAMiB,SAAUjB,EAAMkB,aAAtB,UACS,8BACA,cAACC,EAAA,EAAD,CAAOC,UAAWC,IACXC,SAAU,CAACC,IAAUX,GACrBD,KAAK,iBACLa,YAAY,yBAEnB,8BACI,kDAULC,EApDC,SAACzB,GAGb,IAEI0B,EAAkB1B,EAAM2B,YAC3BC,KAAK,SAAApB,GAAM,OAAI,cAAC,EAAD,CAAYG,KAAMH,EAAOG,KAAsBJ,GAAIC,EAAOD,IAAtBC,EAAOD,OAEvDsB,EAAmB7B,EAAM8B,aAC5BF,KAAK,SAAAzB,GAAO,OAAI,cAAC,EAAD,CAASC,IAAKD,EAAQC,KAAUD,EAAQI,OAM5D,OAAKP,EAAM+B,OAGJ,sBAAK9B,UAAWC,IAAQ8B,QAAxB,UACI,qBAAK/B,UAAWC,IAAQ+B,aAAxB,SAEKP,IAGL,sBAAKzB,UAAWC,IAAQgC,SAAxB,UACI,8BAAOL,IACP,cAACf,EAAD,CAAqBG,SAfb,SAACkB,GACjBnC,EAAMoC,YAAYD,EAAOE,yBAGN,cAAC,IAAD,CAAU3B,GAAI,Y,+CCtBrC4B,EAA6B,SAACC,GAAD,MAAY,CACzCR,OAAQQ,EAAMC,KAAKT,S,OCmBRU,sBACXC,aAlBkB,SAACH,GACpB,MAAO,CACJZ,YAAaY,EAAMI,WAAWhB,YAC9BG,aAAcS,EAAMI,WAAWb,aAC/BO,eAAgBE,EAAMI,WAAWN,mBAKd,SAACO,GACvB,MAAO,CACNR,YAAa,SAACC,GACVO,EAASC,YAAwBR,UDXT,SAACS,GAAe,IACtCC,EADqC,uKAGvC,OAAKC,KAAKhD,MAAM+B,OACT,cAACe,EAAD,eAAeE,KAAKhD,QADI,cAAC,IAAD,CAAUU,GAAG,eAHL,GACXuC,IAAMH,WAS1C,OAFuCJ,YAAQJ,EAARI,CAAqCK,KCQ7DN,CAGbhB","file":"static/js/4.f19b7688.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2xRSA\",\"dialogsItems\":\"Dialogs_dialogsItems__2sNe2\",\"active\":\"Dialogs_active__2sQhs\",\"messages\":\"Dialogs_messages__1w_Up\",\"message\":\"Dialogs_message__1xIDh\"};","import React from \"react\";\nimport classes from \"./../Dialogs.module.css\"\n\nconst Message = (props) => {\n    return (\n        <div className={classes.message}>{props.mes}</div>\n    )\n}\n\nexport default Message;","import React from \"react\";\nimport {NavLink} from \"react-router-dom\"\nimport classes from \"./../Dialogs.module.css\"\n\nconst DialogItem = (props) => {\n    let path = \"/dialogs/\" + props.id\n    return (\n        <div className={classes.dialog + ' ' + classes.active}>\n            <NavLink to={path}>{props.name}</NavLink>\n        </div>\n    )\n}\n\nexport default DialogItem; ","import React from \"react\";\nimport classes from \"./Dialogs.module.css\"\nimport Message from \"./Message/Message\"\nimport DialogItem from \"./Dialogitem/Dialogitem\"\nimport { Redirect } from \"react-router-dom\"\nimport { Field, reduxForm } from \"redux-form\";\nimport {Textarea} from \"../common/FormsControls/FormsControls\"\nimport { maxLengthCreator, required } from \"../../utils/validators/validators\";\n \nconst maxLength50 = maxLengthCreator(50)\n\nconst Dialogs = (props) => {\n\n\n    let newMessageElements = React.createRef();\n\n    let dialogsElements = props.dialogsData\n    .map( dialog => <DialogItem name={dialog.name} key={dialog.id} id={dialog.id} /> );\n    \n    let messagesElements = props.messagesData\n    .map( message => <Message mes={message.mes} key={message.id}/> );\n\n    let addNewMessage = (values) => {\n        props.sendMessage(values.newMessageText);\n    }\n    \n if (!props.isAuth) return <Redirect to={\"/login\"} />\n    \n    return (\n        <div className={classes.dialogs}>\n            <div className={classes.dialogsItems}>\n               \n               { dialogsElements }\n\n            </div>\n            <div className={classes.messages}>\n                <div>{ messagesElements }</div>\n                <AddMessageFormRedux onSubmit={addNewMessage} />\n            </div>\n        </div>\n    )\n}\n\nconst AddMessageForm = (props) => {\nreturn (\n       <form onSubmit={props.handleSubmit}> \n                <div>\n                <Field component={Textarea} \n                       validate={[required, maxLength50]}\n                       name=\"newMessageText\"\n                       placeholder=\"Enter your message\"/>\n               </div>\n                <div>\n                    <button>Send</button>\n                </div>\n       </form>\n)\n}\n\nconst AddMessageFormRedux = reduxForm({\n    form: \"dialogAddMessageForm\"\n})(AddMessageForm)\n\nexport default Dialogs;","import React from \"react\"\nimport { Redirect } from \"react-router-dom\"\nimport {connect} from \"react-redux\"\n\nlet mapStateToPropsForRedirect = (state) => ({ \n    isAuth: state.auth.isAuth\n  })\n\nexport const withAuthRedirect = (Component) => {\n    class RedirectComponent extends React.Component {\n    render() {\n        if (!this.props.isAuth) return <Redirect to=\"/login\" />\n        return <Component {...this.props} />\n    }\n}\n  \n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect) (RedirectComponent)\n\nreturn ConnectedAuthRedirectComponent;\n\n}","import React from \"react\";\nimport { addMessageActionCreator } from \"../../Redux/dialog-reducer\"\nimport Dialogs from \"./Dialogs\";\nimport {connect} from \"react-redux\"\nimport { withAuthRedirect } from \"../../HOC/withAuthRedirect\";\nimport {compose} from \"redux\"\n\nlet mapStateToProps = (state) => {\n   return {\n      dialogsData: state.dialogPage.dialogsData,\n      messagesData: state.dialogPage.messagesData,\n      newMessageText: state.dialogPage.newMessageText,\n      //isAuth: state.auth.isAuth\n   }\n}\n\nlet mapDispatchToProps = (dispatch) => {\n   return {\n    sendMessage: (newMessageText) => {\n        dispatch(addMessageActionCreator(newMessageText));\n    }\n   }\n}\n\nexport default compose(\n    connect(mapStateToProps, mapDispatchToProps),\n    withAuthRedirect\n)(Dialogs)"],"sourceRoot":""}