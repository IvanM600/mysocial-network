{"version":3,"sources":["assets/images/user.png","api/api.js","Redux/dialog-reducer.js","components/Users/users.module.css","components/Navbar/Navbar.module.css","components/Navbar/Navbar.jsx","utils/object-helpers.js","Redux/users-reducer.js","components/Users/Paginator.jsx","components/Users/Users.jsx","Redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","Redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","Redux/app-reducer.js","Redux/redux-store.js","HOC/withSuspense.js","App.js","index.js","utils/validators/validators.js","components/common/FormsControls/FormsControls.js","components/common/FormsControls/FormsControls.module.css","Redux/profile-reducer.js","assets/images/preloader.svg","components/common/Preloader/Preloader.js","components/Users/Paginator.module.css","components/Header/Header.module.css"],"names":["instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","getUsers2","pageNumber","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","ADD_MESSAGE","DELETE_MESSAGE","initialSate","messagesData","id","mes","dialogsData","name","addMessageActionCreator","newMessageText","type","dialogReducer","state","action","newMess","filter","m","module","exports","Navbar","props","className","classes","nav","item","to","activeClassName","active","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","count","Paginator","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","onClick","p","cn","selectedPage","e","Users","src","photos","small","userPhoto","followed","disabled","some","city","country","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","requestUsers","this","Preloader","React","Component","connect","bind","page","totalCount","Header","header","loginBlock","isAuth","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","initialState","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserData","url","authReducer","HeaderContainer","auth","maxLength25","maxLengthCreator","LoginReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","placeholder","component","Input","validate","required","error","formSummaryError","messages","length","stopSubmit","_error","INITIALIZED_SUCCESS","initialized","initializedSuccess","appReducer","reducers","combineReducers","profilesPage","profileReducer","dialogPage","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","_store_","withSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","catchAllUnhandleErrors","promiseRejectionEvent","alert","initializeApp","addEventListener","exact","from","path","render","AppContainer","withRouter","MainApp","StrictMode","ReactDOM","document","getElementById","value","maxLength","FormControl","input","meta","child","element","hasError","touched","formControl","children","Textarea","restProps","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","posts","message","likesCount","addPostActionCreator","newPostText","setStatus","getUserProfile","file","getState","Promise","reject","newPost","postId","preloader"],"mappings":"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","file":"static/js/main.94c98451.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/user.a2446033.png\";","import * as axios from \"axios\"\nimport { savePhoto } from \"../Redux/profile-reducer\";\n\n\n const instance = axios.create({\n        withCredentials: true,\n        baseURL: `https://social-network.samuraijs.com/api/1.0/`,\n        headers: {  \n            \"API-KEY\": \"d59d0a96-dc14-4681-953e-c6b49c967a3e\"\n        }\n     \n });\n\n export const usersAPI = {\n    getUsers(currentPage = 1, pageSize = 10){\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`) \n             .then (response => response.data);\n     },\n     getUsers2(pageNumber = 1, pageSize = 10) {\n        return instance.get(`follow?page=${pageNumber}&count=${pageSize}`)\n             .then (response => response.data);\n     },\n     follow (userId) {\n       return instance.post(`follow/${userId}`)\n     },\n     unfollow (userId) {\n        return instance.delete(`follow/${userId}`)\n    },\n    getProfile(userId) {\n       console.warn(\"Obsolete method. Please profileAPI object\")\n       return profileAPI.getProfile(userId)\n          \n    }\n\n }\n\n export const profileAPI = {\n   getProfile(userId) {\n      return instance.get(`profile/` + userId);\n         \n   },\n   getStatus(userId) {\n      return instance.get(`profile/status/` + userId);\n   },\n   updateStatus(status) {\n      return instance.put(`profile/status`, {status: status});\n   },\n   savePhoto(photoFile){\n      const formData = new FormData();\n      formData.append(\"image\", photoFile);\n      return instance.put(`profile/photo`, formData, {\n         headers: {\n            \"Content-Type\": \"multipart/form-data\"\n         }\n      });\n   },\n   saveProfile(profile){\n      return instance.put(`profile`, profile);\n   }\n\n}\n\n export const authAPI = {\n   me () {\n   return instance.get(`auth/me`)\n   },\n\n   login (email, password, rememberMe = false, captcha = null) {\n      return instance.post(`auth/login`, {email, password, rememberMe, captcha})\n      },\n      logout () {\n         return instance.delete(`auth/login`)\n         }\n }\n\n export const securityAPI = {\n   getCaptchaUrl() {\n   return instance.get(`security/get-captcha-url`)\n   },\n }\n\n \n\n \n\n\n","import { deletePost } from \"./profile-reducer\";\n\nconst ADD_MESSAGE = \"ADD-MESSAGE\";\nconst DELETE_MESSAGE = \"DELETE_MESSAGE\"\n\nlet initialSate = {\n    messagesData: [\n        { id: 1, mes: \"hi\" },\n        { id: 2, mes: \"How are you?\" },\n        { id: 3, mes: \"Yo\" },\n      ],\n      dialogsData: [\n        { id: 1, name: \"Ivan\" },\n        { id: 2, name: \"Sasha\" },\n        { id: 3, name: \"Lena\" },\n        { id: 4, name: \"Vika\" },\n        { id: 5, name: \"Nikita\" },\n        { id: 6, name: \"Ira\" }\n      ],\n\n}\n\nconst dialogReducer = (state=initialSate, action) => {\n\n     switch (action.type) {           \n        case ADD_MESSAGE: \n        let newMess = action.newMessageText\n        return {\n          ...state,\n          messagesData: [ ...state.messagesData, {id: 4, mes: newMess}],\n\n        };\n        case DELETE_MESSAGE: {\n          return {\n            ...state, messagesData: state.messagesData.filter(m => m != action.userId)\n          }\n        }\n        \n        default: return state;\n     }\n    \n    }\n      export const addMessageActionCreator = (newMessageText) => ({type: ADD_MESSAGE, newMessageText})\n      export const deleteMessage = (userId) => ({type: DELETE_MESSAGE, userId})\n\nexport default dialogReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__1_En6\",\"selectedPage\":\"users_selectedPage__1mnwI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2imOE\",\"item\":\"Navbar_item__zmMk4\",\"active\":\"Navbar_active__3mbhk\",\"friends\":\"Navbar_friends__3-QW_\",\"friendsitems\":\"Navbar_friendsitems__3vZIC\",\"fre\":\"Navbar_fre__3wD6y\",\"name\":\"Navbar_name__3nKwt\"};","import React from \"react\";\nimport classes from \"./Navbar.module.css\"\nimport { NavLink } from \"react-router-dom\"\n\n\nconst Navbar = (props) => {\n  return (\n    <nav className={classes.nav}>\n      <div className={classes.item}>\n        <NavLink to=\"/profile\" activeClassName={classes.active}>Profile</NavLink>\n      </div>\n      <div className={`${classes.item} ${classes.active}`}>\n        <NavLink to=\"/dialogs\" activeClassName={classes.active}>Messages</NavLink>\n      </div>\n      <div className={`${classes.item} ${classes.active}`}>\n        <NavLink to=\"/users\" activeClassName={classes.active}>Users</NavLink>\n      </div>\n      <div className={classes.item}>\n        <a>News</a>\n      </div>\n      <div className={classes.item}>\n        <a>Music</a>\n      </div>\n      <div className={classes.item}>\n        <a>Settings</a>\n      </div>\n    </nav>\n  )\n}\n\nexport default Navbar","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\n   return items.map(u => { \n        if (u[objPropName] === itemId) {\n            return {...u, ...objPropName}\n        }\n        return u;\n     })\n}\n\n","import {usersAPI} from \"../api/api\"\nimport {updateObjectInArray} from \"../utils/object-helpers\"\n \nconst FOLLOW = \"FOLLOW\";\nconst UNFOLLOW = \"UNFOLLOW\";\nconst SET_USERS = \"SET_USERS\";\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\"\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\"\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\"\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\"\n\nlet initialSate = {\n    users: [],\n    pageSize: 100, \n    totalUsersCount: 0,\n    currentPage: 1,\n    isFetching: true,\n    followingInProgress: []\n};\n\n\n\nconst usersReducer = (state=initialSate, action) => {\n    switch (action.type) {\n        case FOLLOW:\n           return {\n               ...state, \n               users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\n            }\n        case UNFOLLOW: \n        return {\n            ...state, \n            users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\n         }\n         case SET_USERS: {\n             return { ...state, users: action.users}\n         }\n        case SET_CURRENT_PAGE: {\n            return { ...state, currentPage: action.currentPage}\n        }\n        case SET_TOTAL_USERS_COUNT: {\n            return { ...state, totalUsersCount: action.count}\n        }\n        case TOGGLE_IS_FETCHING: {\n            return{...state, isFetching: action.isFetching}\n        }\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\n            return{\n                   ...state, \n                   followingInProgress: action.isFetching \n                   ? [...state.followingInProgress, action.userId]\n                   : state.followingInProgress.filter(id => id != action.userId)\n                }\n        }\n\n\n            default:\n                return state;\n        \n    }\n   \n}\nexport const followSuccess = (userId) => ({type: FOLLOW, userId})\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId});\nexport const setUsers = (users) => ({type: SET_USERS, users});\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\nexport const setUsersTotalCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount})\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching});\nexport const toggleFollowingProgress = (isFetching, userId) => ({type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId})\n\n\nexport const requestUsers = (page, pageSize) => {\n\n     return async (dispatch) => {\n\n        dispatch (toggleIsFetching(true))\n        dispatch (setCurrentPage(page))\n       let data = await usersAPI.getUsers(page, pageSize)\n        dispatch(toggleIsFetching(false))\n        dispatch(setUsers(data.items))\n        dispatch(setUsersTotalCount(data.totalCount))\n    }\n}\n\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\n    dispatch(toggleFollowingProgress(true, userId));\n      let response = await apiMethod(userId)\nif (response.data.resultCode === 0) {\ndispatch(actionCreator(userId));\n}\ndispatch(toggleFollowingProgress(false, userId));\n}\n\nexport const follow = (userId) => {\n\n    return async (dispatch) => {\n       followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess)\n  }\n}\n\nexport const unfollow = (userId) => {\n\n    return async (dispatch) => {\n        followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess)\n  }\n}\n\nexport default usersReducer;","import React, {useState} from \"react\"\nimport styles from \"../Users/Paginator.module.css\"\nimport cn from \"classnames\";\n\n\n\n\nlet Paginator = ({totalUsersCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\n\n    let pagesCount = Math.ceil(totalUsersCount / pageSize);\n\n   let pages = [];\n   for (let i=1; i <= pagesCount; i++) {\n       pages.push(i);\n   }\n\n   let portionCount = Math.ceil(pagesCount / portionSize);\n   let [portionNumber, setPortionNumber] = useState(1);\n   let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n   let rightPortionPageNumber = portionNumber * portionSize;\n\n   return <div className={styles.paginator}>\n   { portionNumber > 1 &&\n   <button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button> }\n\n       {pages\n           .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\n           .map((p) => {\n           return <span className={ cn({\n               [styles.selectedPage]: currentPage === p\n           }, styles.pageNumber) }\n                        key={p}\n                        onClick={(e) => {\n                            onPageChanged(p);\n                        }}>{p}</span>\n       })}\n\n   { portionCount > portionNumber &&\n       <button onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button> }\n</div>\n   }\n\nexport default Paginator","import React from \"react\"\nimport styles from \"./users.module.css\"\nimport userPhoto from \"../../assets/images/user.png\"\nimport { NavLink } from \"react-router-dom\";\nimport Paginator from \"./Paginator\";\n\n\n\nlet Users = (props) => {\n\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\n\n   let pages = [];\n   for (let i=1; i <= pagesCount; i++) {\n       pages.push(i);\n   }\n\n    return(<div> \n        <Paginator currentPage={props.currentPage} onPageChanged={props.onPageChanged} totalUsersCount={props.totalUsersCount} pageSize={props.pageSize}/> \n       {\n         props.users.map( u => <div key={u.id}> \n               <span>\n                  <div>\n                    <NavLink to={\"/profile/\" + u.id }>\n                     <img src={ u.photos.small != null ? u.photos.small : userPhoto} className={styles.userPhoto} />\n                    </NavLink>\n                  </div>\n                  <div>\n                      { u.followed ? \n                      <button disabled={props.followingInProgress.some(id => id === u.id)} onClick={ () => { props.unfollow(u.id);}}>\n                          Unfollow</button> : \n                      <button disabled={props.followingInProgress.some(id => id === u.id)} onClick={ () => { props.follow(u.id);}}>\n                          Follow</button>}\n                  </div>\n               </span>\n               <span>\n                   <span>\n                       <div>{u.name}</div>\n                       <div>{u.status}</div>\n                   </span>\n                   <span>\n                       <div>{u.city}</div>\n                       <div>{u.country}</div>\n                   </span>\n               </span>\n\n           </div>)\n       }\n     </div>)\n}\n\nexport default Users","import {createSelector} from \"reselect\"\n\nconst getUsersSelector = (state) => {\n    return state.usersPage.users;\n}\n\nexport const getUsers = createSelector(getUsersSelector, (users) => {\n    return users.filter(u => true);\n})\n\nexport const getPageSize = (state) => {\n    return state.usersPage.pageSize\n}\n\nexport const getTotalUsersCount = (state) => {\n    return state.usersPage.totalUsersCount\n}\n\nexport const getCurrentPage = (state) => {\n    return state.usersPage.currentPage\n}\n\nexport const getIsFetching = (state) => {\n    return state.usersPage.isFetching\n}\n\nexport const getFollowingInProgress = (state) => {\n    return state.usersPage.followingInProgress\n}","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { unfollow, follow, setCurrentPage, toggleIsFetching, toggleFollowingProgress, requestUsers} from \"../../Redux/users-reducer\";\nimport Users from \"./Users\"\nimport Preloader from \"../common/Preloader/Preloader\";\nimport {getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress, getUsers} from \"../../Redux/users-selectors\"\n\n\nclass UsersContainer extends React.Component {\n\n    componentDidMount()  {\n      \n        this.props.requestUsers(this.props.currentPage, this.props.pageSize);\n    }\n    \n\n    onPageChanged = (pageNumber) => {\n\n        this.props.requestUsers(pageNumber, this.props.pageSize);\n      };\n    \n    \n  \n    render() {\n\n        return <>\n        {this.props.isFetching ? <Preloader /> : null}\n        <Users totalUsersCount={this.props.totalUsersCount}\n                      pageSize={this.props.pageSize}\n                      currentPage={this.props.currentPage}\n                      onPageChanged={this.onPageChanged}\n                      users={this.props.users}\n                      follow={this.props.follow}\n                      unfollow={this.props.unfollow}\n                      //toggleFollowingProgress={this.props.toggleFollowingProgress}\n                     followingInProgress={this.props.followingInProgress}\n                      \n                />\n               </>\n\n    }\n}\n\nlet mapStateToProps = (state) => {\n    return {\n        users: getUsers(state),\n        pageSize: getPageSize(state),\n        totalUsersCount: getTotalUsersCount(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getIsFetching(state),\n        followingInProgress: getFollowingInProgress(state)\n    }\n}\n\nexport default connect (mapStateToProps, {follow,\n                                          unfollow, \n                                        //  setUsers, \n                                          setCurrentPage,\n                                         // setUsersTotalCount, \n                                          toggleIsFetching,\n                                          toggleFollowingProgress,\n                                          requestUsers}) (UsersContainer);","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport classes from \"./Header.module.css\";\n\nconst Header = (props) => {\n\n  \n    return (\n        <header className={classes.header}>\n        <img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ-QBRekTRh5l9jt90WeC_6L5LjKlT4IDf3Ew&usqp=CAU\"></img>\n\n        <div className={classes.loginBlock}>\n          { props.isAuth ? <div> {props.login} - <button onClick={props.logout}>Log out</button> </div>\n         : <NavLink to={\"/login\"}>Login</NavLink> }\n        </div>\n      </header>\n    )\n}\n\nexport default Header;","import {authAPI, securityAPI} from \"../api/api\"\nimport {stopSubmit} from \"redux-form\"\nconst SET_USER_DATA = \"auth/SET_USER_DATA\";\nconst GET_CAPTCHA_URL_SUCCESS = \"samurai-network/auth/GET_CAPTCHA_URL_SUCCESS\"\n\n\n\nlet initialState = {\n    userId: null,\n    email: null,\n    login: null,\n    isAuth: false,\n    captchaUrl: null\n};\n\n\n\nconst authReducer = (state=initialState, action) => {\n    switch (action.type) {\n        case SET_USER_DATA:\n        case GET_CAPTCHA_URL_SUCCESS:\n           return {\n               ...state, \n               ...action.payload,\n            } \n\n            default:\n                return state;\n        \n    }\n   \n}\nexport const setAuthUserData = (userId, email, login, isAuth) => ({type: SET_USER_DATA, payload: {userId, email, login, isAuth}})\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({type: GET_CAPTCHA_URL_SUCCESS, payload: {captchaUrl}})\nexport const getAuthUserData = () => async (dispatch) => {\n  let response = await authAPI.me();\n        if (response.data.resultCode === 0) {\n            let {id, login, email} = response.data.data;\n            dispatch(setAuthUserData(id, email, login, true));\n        }\n}\n\n\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\n  let response = await authAPI.login(email, password, rememberMe, captcha);\n        if (response.data.resultCode === 0) {\n            dispatch(getAuthUserData())\n        } else {\n            if (response.data.resultCode === 10) {\n                dispatch(getCaptchaUrl())\n            }\n            let messages = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\n            dispatch(stopSubmit(\"login\", {_error: messages}))\n        }\n}\n\nexport const getCaptchaUrl = () => async (dispatch) => {\n    let response = await securityAPI.getCaptchaUrl();\n         const captchaUrl = response.data.url;\n              dispatch(getCaptchaUrlSuccess(captchaUrl))\n          }\n\n\nexport const logout = () => async (dispatch) => {\n    let response = await authAPI.logout();\n        if (response.data.resultCode === 0) {\n            dispatch(setAuthUserData(null, null, null, false))\n        }\n}\nexport default authReducer;","import React from \"react\";\nimport Header from \"./Header\"\nimport { connect } from \"react-redux\";\nimport { authAPI } from \"../../api/api\";\nimport { logout } from \"../../Redux/auth-reducer\"\n\n\n\nclass HeaderContainer extends React.Component {\n\n    render() {\n    return <Header {...this.props}/>\n}\n}\n\nconst mapStateToProps  = (state) => ({\n    isAuth: state.auth.isAuth,\n    login: state.auth.login,\n})\n\nexport default connect(mapStateToProps, {logout}) (HeaderContainer);","import React from \"react\";\nimport { Field, reduxForm } from \"redux-form\";\nimport {required, maxLengthCreator} from \"../../utils/validators/validators\";\nimport {Input} from \"../common/FormsControls/FormsControls\"\nimport {connect} from \"react-redux\"\nimport {login}  from \"../../Redux/auth-reducer\"\nimport { Redirect } from \"react-router-dom\"\nimport classes from \"./../common/FormsControls/FormsControls.module.css\"\n\nconst maxLength25 = maxLengthCreator(25)\n\nconst LoginForm = (props) => {\n    return  (\n            <form onSubmit={props.handleSubmit}>\n                 <div>\n                     <Field placeholder={\"email\"} name={\"email\"} component={Input} validate={[required, maxLength25]}/>\n                 </div>\n                 <div>\n                     <Field placeholder={\"Password\"} name={\"password\"} component={Input} validate={[required, maxLength25]} type={\"password\"}/>\n                 </div>\n                 <div>\n                     <Field component={Input} validate={[required, maxLength25]} name={\"rememberMe\"} type={\"checkbox\"}/> remember me\n                 </div>\n\n                 {props.captchaUrl && <img src={props.captchaUrl}/>}\n                 {props.captchaUrl && <Field placeholder={\"Symbols from image\"} name={\"captcha\"} validate={[required, maxLength25]} component={Input}/>}\n                { props.error && <div className={classes.formSummaryError}>\n                        {props.error}\n                 </div> }\n                 <div>\n                     <button>Login</button>\n                 </div>\n             </form>\n    )\n}\nconst LoginReduxForm = reduxForm({\n    form: \"login\"\n})(LoginForm)\n\nconst Login = (props) => {\n    const onSubmit = (formData) => {\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\n    }\n\n    if (props.isAuth) {\n        return <Redirect to={\"profile\"} />\n    }\n\n    return <div>\n             <h1>Login</h1>\n             <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\n          </div>\n}\n\nconst mapStateToProps = (state) => ({\n    captchaUrl: state.auth.captchaUrl,\n    isAuth: state.auth.isAuth\n})\n\nexport default connect(mapStateToProps, {login})(Login)","import {authAPI} from \"../api/api\"\nimport {stopSubmit} from \"redux-form\"\nimport { getAuthUserData } from \"./auth-reducer\";\nconst INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\";\n\n\n\nlet initialState = {\n    initialized: false\n};\n\n\n\nconst appReducer = (state=initialState, action) => {\n    switch (action.type) {\n        case INITIALIZED_SUCCESS:\n           return {\n               ...state, \n               initialized: true\n            }\n\n            default:\n                return state;\n        \n    }\n   \n}\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS})\nexport const initializeApp = () => (dispatch) => {\n    let promise = dispatch(getAuthUserData());\n    promise.then(() => {\n        dispatch(initializedSuccess)\n    })\n    \n    dispatch(initializedSuccess());\n\n}\n\nexport default appReducer;","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\nimport profileReducer from \"./profile-reducer\";\nimport  dialogReducer from \"../Redux/dialog-reducer\"\nimport usersReducer from \"../Redux/users-reducer\"\nimport authReducer from \"./auth-reducer\"\nimport thunk from \"redux-thunk\";\nimport { reducer as formReducer } from \"redux-form\"\nimport appReducer from \"./app-reducer\"\n\n\nlet reducers = combineReducers({\n    profilesPage: profileReducer,\n    dialogPage: dialogReducer,\n    usersPage: usersReducer,\n    auth: authReducer,\n    form: formReducer,\n    app: appReducer\n});\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, /* preloadedState, */ composeEnhancers(\n    applyMiddleware(thunk)\n  ));\nwindow._store_ = store;\nexport default store;","import React from \"react\";\n\n\nexport const withSuspense = (Component) => {\n    \n    \n    return (props) => {\n        return <React.Suspense fallback={<div>Loading...</div>}>\n                  <Component {...props}/>\n               </React.Suspense>\n    }\n}","import React, { Component } from 'react'\nimport './App.css';\nimport Navbar from './components/Navbar/Navbar';\nimport {BrowserRouter, Route, Switch, withRouter, Redirect} from \"react-router-dom\";\nimport UsersContainer from './components/Users/UsersContainer';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Login from './components/Login/Login';\nimport { connect } from \"react-redux\";\nimport {compose} from \"redux\"\nimport {initializeApp} from \"./Redux/app-reducer\"\nimport Preloader from './components/common/Preloader/Preloader';\nimport store from \"./Redux/redux-store\";\nimport {Provider} from \"react-redux\"\nimport { withSuspense } from './HOC/withSuspense';\n\n\n\nconst DialogsContainer = React.lazy(() => import(\"../src/components/Dialogs/DialogsContainer\"))\nconst ProfileContainer = React.lazy(() => import(\"./components/Profile/ProfileContainer\"))\n\n\nclass App extends Component {\n  catchAllUnhandleErrors = (promiseRejectionEvent) => {\n          alert(\"Some error occured\")\n          console.error(promiseRejectionEvent)\n  }\n  componentDidMount() {\n    this.props.initializeApp();\n    window.addEventListener(\"unhandledrejection\", this.catchAllUnhandleErrors)\n }\n componentWillUnmount() {\n  window.addEventListener(\"unhandledrejection\", this.catchAllUnhandleErrors)\n }\n render(){\n   if (!this.props.initialized){\n   return <Preloader />\n   } else \n\n  return (\n    <div className=\"app-wrapper\">\n      <HeaderContainer />\n      <Navbar />\n      <div className=\"app-wrapper-content\">\n<Switch>\n        \n       <Redirect exact from=\"/\" to=\"/Profile\"/> \n\n        <Route path=\"/dialogs\" \n              render={withSuspense(DialogsContainer)}/>\n\n        <Route path=\"/profile/:userId?\" \n               render={withSuspense(ProfileContainer)}/>\n\n        <Route path=\"/users\" render={ () => <UsersContainer />}/>\n        \n        <Route path=\"/login\" render={ () => <Login />}/>\n\n        <Route path=\"*\" render={ () => <div>404 not found</div>}/>\n</Switch> \n      </div>\n    </div>\n  );\n }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized\n})\n\nlet AppContainer = compose (\n  withRouter,\n  connect(mapStateToProps, {initializeApp})) (App);\n\nconst MainApp = (props) => {\n  return <React.StrictMode>\n      <BrowserRouter>\n      <Provider store={store}>\n      <AppContainer />\n      </Provider>\n      </BrowserRouter>\n    </React.StrictMode>\n}\n\nexport default MainApp;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport MainApp from \"./App\"\n\n\n  \n  ReactDOM.render(\n    <React.StrictMode>\n      <MainApp />\n    </React.StrictMode>,\n    document.getElementById('root')\n  );\n\n\n\n\n\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n","export const required = value => {\n    if (value) return undefined\n    return \"Field is required\"\n}\n\n\nexport const maxLengthCreator = (maxLength) => (value) => {\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`\n    return undefined\n}","import React from \"react\"\nimport classes from \"./FormsControls.module.css\"\n\nconst FormControl = ({input, meta, child, element, ...props}) => {\n    const hasError = meta.touched && meta.error;\n    return (\n        <div className={classes.formControl + \" \" + (hasError ? classes.error : \"\")}>\n            <div>\n                {props.children}\n            </div>\n           { hasError && <span>{meta.error}</span> }\n        </div>\n    )\n}\n\nexport const Textarea = (props) => {\n    const {input, meta, child, element, ...restProps} = props\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\n}\n\n\nexport const Input = (props) => {\n    const {input, meta, child, element, ...restProps} = props\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3oI2W\",\"error\":\"FormsControls_error__9lcue\",\"formSummaryError\":\"FormsControls_formSummaryError__1F2-S\"};","import { stopSubmit } from \"redux-form\";\nimport {profileAPI} from \"../api/api\"\nconst ADD_POST = \"ADD-POST\";\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\"\nconst SET_STATUS = \"SET_STATUS\"\nconst DELETE_POST = \"DELETE_POST\"\nconst SAVE_PHOTO_SUCCESS = \"SAVE_PHOTO_SUCCESS\"\n\nlet initialState = {\n    posts: [\n        {id: 0, message: \"Hi, how are you?\", likesCount: \"40\"},\n        {id: 1, message: \"Its my first post\", likesCount: \"35\"},\n      ],\n      profile: null,\n      status: \"\"\n}\n\n\nconst profileReducer = (state=initialState, action) => {\n    switch (action.type) {\n        case ADD_POST: {\n\n            let newPost = action.newPostText;\n            return {\n                ...state,\n                posts: [...state.posts, {id: 5, message: newPost, likesCount: 0}],\n            }\n        }\n\n        case SET_USER_PROFILE: {\n            return {\n                ...state, profile: action.profile\n            }\n        }\n        case SET_STATUS: {\n            return {\n               ...state, status: action.status\n            }\n        }\n        case DELETE_POST: {\n            return {\n               ...state, posts: state.posts.filter(p => p != action.postId)\n            }\n        }\n        case SAVE_PHOTO_SUCCESS: {\n            return {\n               ...state, profile: {...state.profile, photos: action.photos}\n            }\n        }\n            default:\n                return state;\n        \n    }\n   \n}\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText})\n   \n  \n  export const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\n  export const setStatus = (status) => ({type: SET_STATUS, status})\n  export const deletePost = (postId) => ({type: DELETE_POST, postId})\n  export const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos})\n  export const getUserProfile = (userId) => async (dispatch) => {\n   let response = await profileAPI.getProfile(userId);\n        dispatch(setUserProfile(response.data));\n  }\n  export const getStatus = (userId) => async (dispatch) => {\n   let response = await profileAPI.getStatus(userId);\n        dispatch(setStatus(response.data));\n  }\n\n  export const updateStatus = (status) => async (dispatch) => {\n  try {\n    let response = await profileAPI.updateStatus(status);\n        if (response.data.resultCode === 0) {\n        dispatch(setStatus(status));\n        }\n    } catch (error) {\n        \n    }\n  }\n\n  export const savePhoto = (file) => async (dispatch) => {\n    let response = await profileAPI.savePhoto(file);\n          if (response.data.resultCode === 0) {\n          dispatch(savePhotoSuccess(response.data.data.photos));\n          }\n    }\n\n    export const saveProfile = (profile) => async (dispatch, getState) => {\n        const userId = getState().auth.userId;\n        let response = await profileAPI.saveProfile(profile);\n              if (response.data.resultCode === 0) {\n              dispatch(getUserProfile(userId));\n              } else {\n                  dispatch(stopSubmit(\"edit-profile\", {_error: response.data.messages[0]}));\n                  return Promise.reject(response.data.messages[0])\n              }\n        }\n\nexport default profileReducer;","export default __webpack_public_path__ + \"static/media/preloader.e1dbdd54.svg\";","import React from \"react\"\nimport preloader from \"../../../assets/images/preloader.svg\"\n\nlet Preloader = (props) => {\n    return <img src={preloader}/>\n}\n\nexport default Preloader","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__3aoIo\",\"paginator\":\"Paginator_paginator__1uFzw\",\"pageNumber\":\"Paginator_pageNumber__2AXNx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"loginBlock\":\"Header_loginBlock__6mma5\"};"],"sourceRoot":""}