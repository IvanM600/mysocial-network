{"version":3,"sources":["api/api.js","Redux/dialog-reducer.js","components/Users/users.module.css","components/Navbar/Navbar.module.css","components/Navbar/Navbar.jsx","utils/object-helpers.js","Redux/users-reducer.js","assets/images/user.png","components/Users/Paginator.jsx","components/Users/Users.jsx","Redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","Redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","Redux/app-reducer.js","Redux/redux-store.js","HOC/withSuspense.js","App.js","index.js","utils/validators/validators.js","components/common/FormsControls/FormsControls.module.css","components/common/FormsControls/FormsControls.js","assets/images/preloader.svg","components/common/Preloader/Preloader.js","components/Users/Paginator.module.css","Redux/profile-reducer.js","components/Header/Header.module.css"],"names":["instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","getUsers2","pageNumber","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","ADD_MESSAGE","DELETE_MESSAGE","initialSate","messagesData","id","mes","dialogsData","name","addMessageActionCreator","newMessageText","type","dialogReducer","state","action","newMess","filter","m","module","exports","Navbar","props","className","classes","nav","item","to","activeClassName","active","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","count","Paginator","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","onClick","p","cn","selectedPage","e","Users","src","photos","small","userPhoto","followed","disabled","some","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","requestUsers","this","Preloader","React","Component","connect","bind","page","totalCount","Header","header","loginBlock","isAuth","SET_USER_DATA","initialState","setAuthUserData","payload","getAuthUserData","authReducer","HeaderContainer","auth","maxLength25","maxLengthCreator","LoginReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","placeholder","component","Input","validate","required","error","formSummaryError","messages","length","stopSubmit","_error","formData","INITIALIZED_SUCCESS","initialized","initializedSuccess","appReducer","reducers","combineReducers","profilesPage","profileReducer","dialogPage","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","_store_","withSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","AppContainer","withRouter","MainApp","StrictMode","ReactDOM","document","getElementById","value","maxLength","FormControl","input","meta","child","element","hasError","touched","formControl","children","Textarea","restProps","preloader","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","posts","message","likesCount","profile","addPostActionCreator","newPostText","setStatus","getUserProfile","newPost","postId"],"mappings":"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","file":"static/js/main.6acfceca.chunk.js","sourcesContent":["import * as axios from \"axios\"\n\n\n const instance = axios.create({\n        withCredentials: true,\n        baseURL: `https://social-network.samuraijs.com/api/1.0/`,\n        headers: {Â  \n            \"API-KEY\": \"4f168b56-2b77-485e-ac7f-4971280d1b29\"\n        }\n     \n });\n\n export const usersAPI = {\n    getUsers(currentPage = 1, pageSize = 10){\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`) \n             .then (response => response.data);\n     },\n     getUsers2(pageNumber = 1, pageSize = 10) {\n        return instance.get(`follow?page=${pageNumber}&count=${pageSize}`)\n             .then (response => response.data);\n     },\n     follow (userId) {\n       return instance.post(`follow/${userId}`)\n     },\n     unfollow (userId) {\n        return instance.delete(`follow/${userId}`)\n    },\n    getProfile(userId) {\n       console.warn(\"Obsolete method. Please profileAPI object\")\n       return profileAPI.getProfile(userId)\n          \n    }\n\n }\n\n export const profileAPI = {\n   getProfile(userId) {\n      return instance.get(`profile/` + userId);\n         \n   },\n   getStatus(userId) {\n      return instance.get(`profile/status/` + userId);\n   },\n   updateStatus(status) {\n      return instance.put(`profile/status`, {status: status});\n   }\n\n}\n\n export const authAPI = {\n   me () {\n   return instance.get(`auth/me`)\n   },\n\n   login (email, password, rememberMe = false) {\n      return instance.post(`auth/login`, {email, password, rememberMe})\n      },\n      logout () {\n         return instance.delete(`auth/login`)\n         }\n }\n\n \n\n \n\n\n","import { deletePost } from \"./profile-reducer\";\n\nconst ADD_MESSAGE = \"ADD-MESSAGE\";\nconst DELETE_MESSAGE = \"DELETE_MESSAGE\"\n\nlet initialSate = {\n    messagesData: [\n        { id: 1, mes: \"hi\" },\n        { id: 2, mes: \"How are you?\" },\n        { id: 3, mes: \"Yo\" },\n      ],\n      dialogsData: [\n        { id: 1, name: \"Ivan\" },\n        { id: 2, name: \"Sasha\" },\n        { id: 3, name: \"Lena\" },\n        { id: 4, name: \"Vika\" },\n        { id: 5, name: \"Nikita\" },\n        { id: 6, name: \"Ira\" }\n      ],\n\n}\n\nconst dialogReducer = (state=initialSate, action) => {\n\n     switch (action.type) {           \n        case ADD_MESSAGE: \n        let newMess = action.newMessageText\n        return {\n          ...state,\n          messagesData: [ ...state.messagesData, {id: 4, mes: newMess}],\n\n        };\n        case DELETE_MESSAGE: {\n          return {\n            ...state, messagesData: state.messagesData.filter(m => m != action.userId)\n          }\n        }\n        \n        default: return state;\n     }\n    \n    }\n      export const addMessageActionCreator = (newMessageText) => ({type: ADD_MESSAGE, newMessageText})\n      export const deleteMessage = (userId) => ({type: DELETE_MESSAGE, userId})\n\nexport default dialogReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__1_En6\",\"selectedPage\":\"users_selectedPage__1mnwI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2imOE\",\"item\":\"Navbar_item__zmMk4\",\"active\":\"Navbar_active__3mbhk\",\"friends\":\"Navbar_friends__3-QW_\",\"friendsitems\":\"Navbar_friendsitems__3vZIC\",\"fre\":\"Navbar_fre__3wD6y\",\"name\":\"Navbar_name__3nKwt\"};","import React from \"react\";\nimport classes from \"./Navbar.module.css\"\nimport { NavLink } from \"react-router-dom\"\n\n\nconst Navbar = (props) => {\n  return (\n    <nav className={classes.nav}>\n      <div className={classes.item}>\n        <NavLink to=\"/profile\" activeClassName={classes.active}>Profile</NavLink>\n      </div>\n      <div className={`${classes.item} ${classes.active}`}>\n        <NavLink to=\"/dialogs\" activeClassName={classes.active}>Messages</NavLink>\n      </div>\n      <div className={`${classes.item} ${classes.active}`}>\n        <NavLink to=\"/users\" activeClassName={classes.active}>Users</NavLink>\n      </div>\n      <div className={classes.item}>\n        <a>News</a>\n      </div>\n      <div className={classes.item}>\n        <a>Music</a>\n      </div>\n      <div className={classes.item}>\n        <a>Settings</a>\n      </div>\n    </nav>\n  )\n}\n\nexport default Navbar","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\n   return items.map(u => { \n        if (u[objPropName] === itemId) {\n            return {...u, ...objPropName}\n        }\n        return u;\n     })\n}\n\n","import {usersAPI} from \"../api/api\"\nimport {updateObjectInArray} from \"../utils/object-helpers\"\n \nconst FOLLOW = \"FOLLOW\";\nconst UNFOLLOW = \"UNFOLLOW\";\nconst SET_USERS = \"SET_USERS\";\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\"\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\"\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\"\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\"\n\nlet initialSate = {\n    users: [],\n    pageSize: 100, \n    totalUsersCount: 0,\n    currentPage: 1,\n    isFetching: true,\n    followingInProgress: []\n\n};\n\n\n\nconst usersReducer = (state=initialSate, action) => {\n    switch (action.type) {\n        case FOLLOW:\n           return {\n               ...state, \n               users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\n            }\n        case UNFOLLOW: \n        return {\n            ...state, \n            users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\n         }\n         case SET_USERS: {\n             return { ...state, users: action.users}\n         }\n        case SET_CURRENT_PAGE: {\n            return { ...state, currentPage: action.currentPage}\n        }\n        case SET_TOTAL_USERS_COUNT: {\n            return { ...state, totalUsersCount: action.count}\n        }\n        case TOGGLE_IS_FETCHING: {\n            return{...state, isFetching: action.isFetching}\n        }\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\n            return{\n                   ...state, \n                   followingInProgress: action.isFetching \n                   ? [...state.followingInProgress, action.userId]\n                   : state.followingInProgress.filter(id => id != action.userId)\n                }\n        }\n\n\n            default:\n                return state;\n        \n    }\n   \n}\nexport const followSuccess = (userId) => ({type: FOLLOW, userId})\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId});\nexport const setUsers = (users) => ({type: SET_USERS, users});\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\nexport const setUsersTotalCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount})\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching});\nexport const toggleFollowingProgress = (isFetching, userId) => ({type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId})\n\n\nexport const requestUsers = (page, pageSize) => {\n\n     return async (dispatch) => {\n\n        dispatch (toggleIsFetching(true))\n        dispatch (setCurrentPage(page))\n       let data = await usersAPI.getUsers(page, pageSize)\n        dispatch(toggleIsFetching(false))\n        dispatch(setUsers(data.items))\n        dispatch(setUsersTotalCount(data.totalCount))\n    }\n}\n\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\n    dispatch(toggleFollowingProgress(true, userId));\n      let response = await apiMethod(userId)\nif (response.data.resultCode == 0) {\ndispatch(actionCreator(userId));\n}\ndispatch(toggleFollowingProgress(false, userId));\n}\n\nexport const follow = (userId) => {\n\n    return async (dispatch) => {\n       followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess)\n  }\n}\n\nexport const unfollow = (userId) => {\n\n    return async (dispatch) => {\n        followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess)\n  }\n}\n\nexport default usersReducer;","export default __webpack_public_path__ + \"static/media/user.a2446033.png\";","import React, {useState} from \"react\"\nimport styles from \"../Users/Paginator.module.css\"\nimport cn from \"classnames\";\n\n\n\n\nlet Paginator = ({totalUsersCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\n\n    let pagesCount = Math.ceil(totalUsersCount / pageSize);\n\n   let pages = [];\n   for (let i=1; i <= pagesCount; i++) {\n       pages.push(i);\n   }\n\n   let portionCount = Math.ceil(pagesCount / portionSize);\n   let [portionNumber, setPortionNumber] = useState(1);\n   let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n   let rightPortionPageNumber = portionNumber * portionSize;\n\n   return <div className={styles.paginator}>\n   { portionNumber > 1 &&\n   <button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button> }\n\n       {pages\n           .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\n           .map((p) => {\n           return <span className={ cn({\n               [styles.selectedPage]: currentPage === p\n           }, styles.pageNumber) }\n                        key={p}\n                        onClick={(e) => {\n                            onPageChanged(p);\n                        }}>{p}</span>\n       })}\n\n   { portionCount > portionNumber &&\n       <button onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button> }\n</div>\n   }\n\nexport default Paginator","import React from \"react\"\nimport styles from \"./users.module.css\"\nimport userPhoto from \"../../assets/images/user.png\"\nimport { NavLink } from \"react-router-dom\";\nimport Paginator from \"./Paginator\";\n\n\n\nlet Users = (props) => {\n\n\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\n\n   let pages = [];\n   for (let i=1; i <= pagesCount; i++) {\n       pages.push(i);\n   }\n\n    return(<div> \n        <Paginator currentPage={props.currentPage} onPageChanged={props.onPageChanged} totalUsersCount={props.totalUsersCount} pageSize={props.pageSize}/> \n       {\n         props.users.map( u => <div key={u.id}> \n               <span>\n                  <div>\n                    <NavLink to={\"/profile/\" + u.id }>\n                     <img src={ u.photos.small != null ? u.photos.small : userPhoto} className={styles.userPhoto} />\n                    </NavLink>\n                  </div>\n                  <div>\n                      { u.followed ? \n                      <button disabled={props.followingInProgress.some(id => id === u.id)} onClick={ () => { props.unfollow(u.id);}}>\n                          Unfollow</button> : \n                      <button disabled={props.followingInProgress.some(id => id === u.id)} onClick={ () => { props.follow(u.id);}}>\n                          Follow</button>}\n                  </div>\n               </span>\n               <span>\n                   <span>\n                       <div>{u.name}</div>\n                       <div>{u.status}</div>\n                   </span>\n                   <span>\n                       <div>{\"u.location.city\"}</div>\n                       <div>{\"u.location.country\"}</div>\n                   </span>\n               </span>\n\n           </div>)\n       }\n     </div>)\n}\n\nexport default Users","import {createSelector} from \"reselect\"\n\nexport const getUsersSelector = (state) => {\n    return state.usersPage.users;\n}\n\nexport const getUsers = createSelector(getUsersSelector, (users) => {\n    return users.filter(u => true);\n})\n\nexport const getPageSize = (state) => {\n    return state.usersPage.pageSize\n}\n\nexport const getTotalUsersCount = (state) => {\n    return state.usersPage.totalUsersCount\n}\n\nexport const getCurrentPage = (state) => {\n    return state.usersPage.currentPage\n}\n\nexport const getIsFetching = (state) => {\n    return state.usersPage.isFetching\n}\n\nexport const getFollowingInProgress = (state) => {\n    return state.usersPage.followingInProgress\n}","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { unfollow, follow, setCurrentPage, toggleIsFetching, toggleFollowingProgress, requestUsers} from \"../../Redux/users-reducer\";\nimport Users from \"./Users\"\nimport Preloader from \"../common/Preloader/Preloader\";\nimport {getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress, getUsers} from \"../../Redux/users-selectors\"\n\n\nclass UsersContainer extends React.Component {\n\n    componentDidMount()  {\n      \n        this.props.requestUsers(this.props.currentPage, this.props.pageSize);\n    }\n    \n\n    onPageChanged = (pageNumber) => {\n\n        this.props.requestUsers(pageNumber, this.props.pageSize);\n      };\n    \n    \n  \n    render() {\n\n        return <>\n        {this.props.isFetching ? <Preloader /> : null}\n        <Users totalUsersCount={this.props.totalUsersCount}\n                      pageSize={this.props.pageSize}\n                      currentPage={this.props.currentPage}\n                      onPageChanged={this.onPageChanged}\n                      users={this.props.users}\n                      follow={this.props.follow}\n                      unfollow={this.props.unfollow}\n                      //toggleFollowingProgress={this.props.toggleFollowingProgress}\n                     followingInProgress={this.props.followingInProgress}\n                      \n                />\n               </>\n\n    }\n}\n\nlet mapStateToProps = (state) => {\n    return {\n        users: getUsers(state),\n        pageSize: getPageSize(state),\n        totalUsersCount: getTotalUsersCount(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getIsFetching(state),\n        followingInProgress: getFollowingInProgress(state)\n    }\n}\n\nexport default connect (mapStateToProps, {follow,\n                                          unfollow, \n                                        //  setUsers, \n                                          setCurrentPage,\n                                         // setUsersTotalCount, \n                                          toggleIsFetching,\n                                          toggleFollowingProgress,\n                                          requestUsers}) (UsersContainer);","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport classes from \"./Header.module.css\";\n\nconst Header = (props) => {\n\n  \n    return (\n        <header className={classes.header}>\n        <img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ-QBRekTRh5l9jt90WeC_6L5LjKlT4IDf3Ew&usqp=CAU\"></img>\n\n        <div className={classes.loginBlock}>\n          { props.isAuth ? <div> {props.login} - <button onClick={props.logout}>Log out</button> </div>\n         : <NavLink to={\"/login\"}>Login</NavLink> }\n        </div>\n      </header>\n    )\n}\n\nexport default Header;","import {authAPI} from \"../api/api\"\nimport {stopSubmit} from \"redux-form\"\nconst SET_USER_DATA = \"auth/SET_USER_DATA\";\n\n\n\nlet initialState = {\n    userId: null,\n    email: null,\n    login: null,\n    isAuth: false\n\n};\n\n\n\nconst authReducer = (state=initialState, action) => {\n    switch (action.type) {\n        case SET_USER_DATA:\n           return {\n               ...state, \n               ...action.payload,\n            }\n\n            default:\n                return state;\n        \n    }\n   \n}\nexport const setAuthUserData = (userId, email, login, isAuth) => ({type: SET_USER_DATA, payload: {userId, email, login, isAuth}})\nexport const getAuthUserData = () => async (dispatch) => {\n  let response = await authAPI.me();\n        if (response.data.resultCode === 0) {\n            let {id, login, email} = response.data.data;\n            dispatch(setAuthUserData(id, email, login, true));\n        }\n}\n\n\nexport const login = (email, password, rememberMe) => async (dispatch) => {\n  let response = await authAPI.login(email, password, rememberMe);\n        if (response.data.resultCode === 0) {\n            dispatch(getAuthUserData())\n        } else {\n            let messages = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\n            dispatch(stopSubmit(\"login\", {_error: messages}))\n        }\n}\n\n\nexport const logout = () => async (dispatch) => {\n    let response = await authAPI.logout();\n        if (response.data.resultCode === 0) {\n            dispatch(getAuthUserData(null, null, null, false))\n        }\n}\nexport default authReducer;","import React from \"react\";\nimport Header from \"./Header\"\nimport { connect } from \"react-redux\";\nimport { authAPI } from \"../../api/api\";\nimport { logout } from \"../../Redux/auth-reducer\"\n\n\n\nclass HeaderContainer extends React.Component {\n\n    render() {\n    return <Header {...this.props}/>\n}\n}\n\nconst mapStateToProps  = (state) => ({\n    isAuth: state.auth.isAuth,\n    login: state.auth.login,\n})\n\nexport default connect(mapStateToProps, {logout}) (HeaderContainer);","import React from \"react\";\nimport { Field, reduxForm } from \"redux-form\";\nimport {required, maxLengthCreator} from \"../../utils/validators/validators\";\nimport {Input} from \"../common/FormsControls/FormsControls\"\nimport {connect} from \"react-redux\"\nimport {login}  from \"../../Redux/auth-reducer\"\nimport { Redirect } from \"react-router-dom\"\nimport classes from \"./../common/FormsControls/FormsControls.module.css\"\n\nconst maxLength25 = maxLengthCreator(25)\n\nconst LoginForm = (props) => {\n    return  (\n            <form onSubmit={props.handleSubmit}>\n                 <div>\n                     <Field placeholder={\"email\"} name={\"email\"} component={Input} validate={[required, maxLength25]}/>\n                 </div>\n                 <div>\n                     <Field placeholder={\"Password\"} name={\"password\"} component={Input} validate={[required, maxLength25]} type={\"password\"}/>\n                 </div>\n                 <div>\n                     <Field component={Input} validate={[required, maxLength25]} name={\"rememberMe\"} type={\"checkbox\"}/> remember me\n                 </div>\n                { props.error && <div className={classes.formSummaryError}>\n                        {props.error}\n                 </div> }\n                 <div>\n                     <button>Login</button>\n                 </div>\n             </form>\n    )\n}\nconst LoginReduxForm = reduxForm({\n    form: \"login\"\n})(LoginForm)\n\nconst Login = (props) => {\n    const onSubmit = (formData) => {\n        props.login(formData.email, formData.password, formData.rememberMe)\n    }\n\n    if (props.isAuth) {\n        return <Redirect to={\"profile\"} />\n    }\n\n    return <div>\n             <h1>Login</h1>\n             <LoginReduxForm onSubmit={onSubmit}/>\n          </div>\n}\n\nconst mapStateToProps = (state) => ({\n    isAuth: state.auth.isAuth\n})\n\nexport default connect(mapStateToProps, {login})(Login)","import {authAPI} from \"../api/api\"\nimport {stopSubmit} from \"redux-form\"\nimport { getAuthUserData } from \"./auth-reducer\";\nconst INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\";\n\n\n\nlet initialState = {\n    initialized: false\n};\n\n\n\nconst appReducer = (state=initialState, action) => {\n    switch (action.type) {\n        case INITIALIZED_SUCCESS:\n           return {\n               ...state, \n               initialized: true\n            }\n\n            default:\n                return state;\n        \n    }\n   \n}\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS})\nexport const initializeApp = () => (dispatch) => {\n    let promise = dispatch(getAuthUserData());\n    promise.then(() => {\n        dispatch(initializedSuccess)\n    })\n    \n    dispatch(initializedSuccess());\n\n}\n\nexport default appReducer;","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\nimport profileReducer from \"./profile-reducer\";\nimport  dialogReducer from \"../Redux/dialog-reducer\"\nimport usersReducer from \"../Redux/users-reducer\"\nimport authReducer from \"./auth-reducer\"\nimport thunk from \"redux-thunk\";\nimport { reducer as formReducer } from \"redux-form\"\nimport appReducer from \"./app-reducer\"\n\n\nlet reducers = combineReducers({\n    profilesPage: profileReducer,\n    dialogPage: dialogReducer,\n    usersPage: usersReducer,\n    auth: authReducer,\n    form: formReducer,\n    app: appReducer\n});\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, /* preloadedState, */ composeEnhancers(\n    applyMiddleware(thunk)\n  ));\nwindow._store_ = store;\nexport default store;","import React from \"react\";\n\n\nexport const withSuspense = (Component) => {\n    \n    \n    return (props) => {\n        return <React.Suspense fallback={<div>Loading...</div>}>\n                  <Component {...props}/>\n               </React.Suspense>\n    }\n}","import React, { Component } from 'react'\nimport './App.css';\nimport Navbar from './components/Navbar/Navbar';\nimport {Route, withRouter} from \"react-router-dom\";\nimport UsersContainer from './components/Users/UsersContainer';\n//import ProfileContainer from \"./components/Profile/ProfileContainer\"\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Login from './components/Login/Login';\nimport { connect } from \"react-redux\";\nimport {compose} from \"redux\"\nimport {initializeApp} from \"./Redux/app-reducer\"\nimport Preloader from './components/common/Preloader/Preloader';\nimport {BrowserRouter} from \"react-router-dom\";\nimport store from \"./Redux/redux-store\";\nimport {Provider} from \"react-redux\"\nimport { withSuspense } from './HOC/withSuspense';\n\n\n//import DialogsContainer from \"../src/components/Dialogs/DialogsContainer\";\nconst DialogsContainer = React.lazy(() => import(\"../src/components/Dialogs/DialogsContainer\"))\nconst ProfileContainer = React.lazy(() => import(\"./components/Profile/ProfileContainer\"))\n\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.initializeApp();\n }\n render(){\n   if (!this.props.initialized){\n   return <Preloader />\n   } else \n\n  return (\n    <div className=\"app-wrapper\">\n      <HeaderContainer />\n      <Navbar />\n      <div className=\"app-wrapper-content\">\n\n        <Route path=\"/dialogs\" \n              render={withSuspense(DialogsContainer)}/>\n\n        <Route path=\"/profile/:userId?\" \n               render={withSuspense(ProfileContainer)}/>\n\n        <Route path=\"/users\" render={ () => <UsersContainer />}/>\n        \n        <Route path=\"/login\" render={ () => <Login />}/>\n      </div>\n    </div>\n  );\n }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized\n})\n\nlet AppContainer = compose (\n  withRouter,\n  connect(mapStateToProps, {initializeApp})) (App);\n\nconst MainApp = (props) => {\n  return <React.StrictMode>\n      <BrowserRouter>\n      <Provider store={store}>\n      <AppContainer />\n      </Provider>\n      </BrowserRouter>\n    </React.StrictMode>\n}\n\nexport default MainApp;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport MainApp from \"./App\"\n\n\n  \n  ReactDOM.render(\n    <React.StrictMode>\n      <MainApp />\n    </React.StrictMode>,\n    document.getElementById('root')\n  );\n\n\n\n\n\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n","export const required = value => {\n    if (value) return undefined\n    return \"Field is required\"\n}\n\n\nexport const maxLengthCreator = (maxLength) => (value) => {\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`\n    return undefined\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3oI2W\",\"error\":\"FormsControls_error__9lcue\",\"formSummaryError\":\"FormsControls_formSummaryError__1F2-S\"};","import React from \"react\"\nimport classes from \"./FormsControls.module.css\"\n\nconst FormControl = ({input, meta, child, element, ...props}) => {\n    const hasError = meta.touched && meta.error;\n    return (\n        <div className={classes.formControl + \" \" + (hasError ? classes.error : \"\")}>\n            <div>\n                {props.children}\n            </div>\n           { hasError && <span>{meta.error}</span> }\n        </div>\n    )\n}\n\nexport const Textarea = (props) => {\n    const {input, meta, child, element, ...restProps} = props\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\n}\n\n\nexport const Input = (props) => {\n    const {input, meta, child, element, ...restProps} = props\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\n}","export default __webpack_public_path__ + \"static/media/preloader.e1dbdd54.svg\";","import React from \"react\"\nimport preloader from \"../../../assets/images/preloader.svg\"\n\nlet Preloader = (props) => {\n    return <img src={preloader}/>\n}\n\nexport default Preloader","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__3aoIo\",\"paginator\":\"Paginator_paginator__1uFzw\",\"pageNumber\":\"Paginator_pageNumber__2AXNx\"};","import {usersAPI, profileAPI} from \"../api/api\"\nconst ADD_POST = \"ADD-POST\";\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\"\nconst SET_STATUS = \"SET_STATUS\"\nconst DELETE_POST = \"DELETE_POST\"\n\nlet initialState = {\n    posts: [\n        {id: 0, message: \"Hi, how are you?\", likesCount: \"40\"},\n        {id: 1, message: \"Its my first post\", likesCount: \"35\"},\n      ],\n      profile: null,\n      status: \"\"\n}\n\n\nconst profileReducer = (state=initialState, action) => {\n    \n    switch (action.type) {\n        case ADD_POST: {\n\n            let newPost = action.newPostText;\n            return {\n                ...state,\n                posts: [...state.posts, {id: 5, message: newPost, likesCount: 0}],\n            }\n        }\n\n        case SET_USER_PROFILE: {\n            return {\n                ...state, profile: action.profile\n            }\n        }\n        case SET_STATUS: {\n            return {\n               ...state, status: action.status\n            }\n        }\n        case DELETE_POST: {\n            return {\n               ...state, posts: state.posts.filter(p => p != action.postId)\n            }\n        }\n            default:\n                return state;\n        \n    }\n   \n}\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText})\n   \n  \n  export const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\n  export const setStatus= (status) => ({type: SET_STATUS, status})\n  export const deletePost = (postId) => ({type: DELETE_POST, postId})\n  export const getUserProfile = (userId) => async (dispatch) => {\n   let response = await profileAPI.getProfile(userId);\n        dispatch(setUserProfile(response.data));\n  }\n  export const getStatus = (userId) => async (dispatch) => {\n   let response = await profileAPI.getStatus(userId);\n        dispatch(setStatus(response.data));\n  }\n\n  export const updateStatus = (status) => async (dispatch) => {\n  let response = await profileAPI.updateStatus(status);\n        if (response.data.resultCode === 0) {\n        dispatch(setStatus(status));\n        }\n  }\nexport default profileReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"loginBlock\":\"Header_loginBlock__6mma5\"};"],"sourceRoot":""}