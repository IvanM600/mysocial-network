{"version":3,"sources":["components/Dialogs/Dialogs.module.css","HOC/withAuthRedirect.js","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogitem/Dialogitem.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","Message","className","classes","message","mes","DialogItem","path","id","dialog","active","name","maxLength50","maxLengthCreator","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","dialogsForm","Field","component","Textarea","validate","required","placeholder","dialogButton","Dialogs","dialogsElements","dialogsData","map","messagesElements","messagesData","dialogs","dialogsItems","messages","values","sendMessage","newMessageText","compose","dialogPage","dispatch","addMessageActionCreator"],"mappings":"2FACAA,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,aAAe,8BAA8B,SAAW,0BAA0B,QAAU,yBAAyB,YAAc,+B,qJCGjOC,EAA6B,SAACC,GAAD,MAAY,CACzCC,OAAQD,EAAME,KAAKD,SAGVE,EAAmB,SAACC,GAAe,IACtCC,EADqC,uKAGvC,OAAKC,KAAKC,MAAMN,OACT,cAACG,EAAD,eAAeE,KAAKC,QADI,cAAC,IAAD,CAAUC,GAAG,eAHL,GACXC,IAAML,WAS1C,OAFuCM,YAAQX,EAARW,CAAqCL,K,mFCP7DM,EANC,SAACJ,GACb,OACI,qBAAKK,UAAWC,IAAQC,QAAxB,SAAkCP,EAAMQ,O,QCQjCC,EATI,SAACT,GAChB,IAAIU,EAAO,YAAcV,EAAMW,GAC/B,OACI,qBAAKN,UAAWC,IAAQM,OAAS,IAAMN,IAAQO,OAA/C,SACI,cAAC,IAAD,CAASZ,GAAIS,EAAb,SAAoBV,EAAMc,U,0CCChCC,EAAcC,YAAiB,IAgD/BC,EAAsBC,YAAU,CAClCC,KAAM,wBADkBD,EAhBL,SAAClB,GACxB,OACO,uBAAMoB,SAAUpB,EAAMqB,aAAtB,UACS,qBAAKhB,UAAWC,IAAQgB,YAAxB,SACA,cAACC,EAAA,EAAD,CAAOC,UAAWC,IACXC,SAAU,CAACC,IAAUZ,GACrBD,KAAK,iBACLc,YAAY,yBAEnB,qBAAKvB,UAAWC,IAAQuB,aAAxB,SACI,kDAULC,EAlDC,SAAC9B,GAGb,IAEI+B,EAAkB/B,EAAMgC,YAC3BC,KAAK,SAAArB,GAAM,OAAI,cAAC,EAAD,CAAYE,KAAMF,EAAOE,KAAsBH,GAAIC,EAAOD,IAAtBC,EAAOD,OAEvDuB,EAAmBlC,EAAMmC,aAC5BF,KAAK,SAAA1B,GAAO,OAAI,cAAC,EAAD,CAASC,IAAKD,EAAQC,KAAUD,EAAQI,OAM5D,OAAKX,EAAMN,OAGJ,sBAAKW,UAAWC,IAAQ8B,QAAxB,UACI,qBAAK/B,UAAWC,IAAQ+B,aAAxB,SACKN,IAEL,sBAAK1B,UAAWC,IAAQgC,SAAxB,UACI,8BAAOJ,IACP,cAACjB,EAAD,CAAqBG,SAbb,SAACmB,GACjBvC,EAAMwC,YAAYD,EAAOE,yBAGN,cAAC,IAAD,CAAUxC,GAAI,Y,yBCF1ByC,sBACXvC,aAlBkB,SAACV,GACpB,MAAO,CACJuC,YAAavC,EAAMkD,WAAWX,YAC9BG,aAAc1C,EAAMkD,WAAWR,aAC/BM,eAAgBhD,EAAMkD,WAAWF,mBAKd,SAACG,GACvB,MAAO,CACNJ,YAAa,SAACC,GACVG,EAASC,YAAwBJ,SAOrC7C,IAFW8C,CAGbZ","file":"static/js/4.3dd9ba54.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2xRSA\",\"dialogsItems\":\"Dialogs_dialogsItems__2sNe2\",\"dialogButton\":\"Dialogs_dialogButton__1Lift\",\"messages\":\"Dialogs_messages__1w_Up\",\"message\":\"Dialogs_message__1xIDh\",\"dialogsForm\":\"Dialogs_dialogsForm__34z_V\"};","import React from \"react\"\nimport { Redirect } from \"react-router-dom\"\nimport {connect} from \"react-redux\"\n\nlet mapStateToPropsForRedirect = (state) => ({ \n    isAuth: state.auth.isAuth\n  })\n\nexport const withAuthRedirect = (Component) => {\n    class RedirectComponent extends React.Component {\n    render() {\n        if (!this.props.isAuth) return <Redirect to=\"/login\" />\n        return <Component {...this.props} />\n    }\n}\n  \n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect) (RedirectComponent)\n\nreturn ConnectedAuthRedirectComponent;\n\n}","import React from \"react\";\nimport classes from \"./../Dialogs.module.css\"\n\nconst Message = (props) => {\n    return (\n        <div className={classes.message}>{props.mes}</div>\n    )\n}\n\nexport default Message;","import React from \"react\";\nimport {NavLink} from \"react-router-dom\"\nimport classes from \"./../Dialogs.module.css\"\n\nconst DialogItem = (props) => {\n    let path = \"/dialogs/\" + props.id\n    return (\n        <div className={classes.dialog + ' ' + classes.active}>\n            <NavLink to={path}>{props.name}</NavLink>\n        </div>\n    )\n}\n\nexport default DialogItem; ","import React from \"react\";\nimport classes from \"./Dialogs.module.css\"\nimport Message from \"./Message/Message\"\nimport DialogItem from \"./Dialogitem/Dialogitem\"\nimport { Redirect } from \"react-router-dom\"\nimport { Field, reduxForm } from \"redux-form\";\nimport {Textarea} from \"../common/FormsControls/FormsControls\"\nimport { maxLengthCreator, required } from \"../../utils/validators/validators\";\n \nconst maxLength50 = maxLengthCreator(50)\n\nconst Dialogs = (props) => {\n\n\n    let newMessageElements = React.createRef();\n\n    let dialogsElements = props.dialogsData\n    .map( dialog => <DialogItem name={dialog.name} key={dialog.id} id={dialog.id} /> );\n    \n    let messagesElements = props.messagesData\n    .map( message => <Message mes={message.mes} key={message.id}/> );\n\n    let addNewMessage = (values) => {\n        props.sendMessage(values.newMessageText);\n    }\n    \n if (!props.isAuth) return <Redirect to={\"/login\"} />\n    \n    return (\n        <div className={classes.dialogs}>\n            <div className={classes.dialogsItems}>\n               { dialogsElements }\n            </div>\n            <div className={classes.messages}>\n                <div>{ messagesElements }</div>\n                <AddMessageFormRedux onSubmit={addNewMessage} />\n            </div>\n        </div>\n    )\n}\n\nconst AddMessageForm = (props) => {\nreturn (\n       <form onSubmit={props.handleSubmit}> \n                <div className={classes.dialogsForm}>\n                <Field component={Textarea} \n                       validate={[required, maxLength50]}\n                       name=\"newMessageText\"\n                       placeholder=\"Enter your message\"/>\n               </div>\n                <div className={classes.dialogButton}>\n                    <button>Send</button>\n                </div>\n       </form>\n)\n}\n\nconst AddMessageFormRedux = reduxForm({\n    form: \"dialogAddMessageForm\"\n})(AddMessageForm)\n\nexport default Dialogs;","import React from \"react\";\nimport { addMessageActionCreator } from \"../../Redux/dialog-reducer\"\nimport Dialogs from \"./Dialogs\";\nimport {connect} from \"react-redux\"\nimport { withAuthRedirect } from \"../../HOC/withAuthRedirect\";\nimport {compose} from \"redux\"\n\nlet mapStateToProps = (state) => {\n   return {\n      dialogsData: state.dialogPage.dialogsData,\n      messagesData: state.dialogPage.messagesData,\n      newMessageText: state.dialogPage.newMessageText,\n      //isAuth: state.auth.isAuth\n   }\n}\n\nlet mapDispatchToProps = (dispatch) => {\n   return {\n    sendMessage: (newMessageText) => {\n        dispatch(addMessageActionCreator(newMessageText));\n    }\n   }\n}\n\nexport default compose(\n    connect(mapStateToProps, mapDispatchToProps),\n    withAuthRedirect\n)(Dialogs)"],"sourceRoot":""}